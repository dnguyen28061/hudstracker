The design of the web app is based off of the CS50 finance website. The same code and html was used for registering, logging in, and maintaining a session. I decided to implement my project using a web scraper called BeautifulSoup to get the nutritional nformation off of the HUDS website. SQLITE was the database used for storing user login data and their food history. I also used some Javascript to provide a more pleasant user experience. As for the MyFitnessPal website, their search engine uses a "post" method to search, so I could not simply search by inputting a query into the URL. There also is no public API for querying the MFP website, so I finally resorted to using selenium and a webdriver to automate searching the MFP website for food and scanning its subsequent html. This was the most difficult design decision because the app needs local webdrivers in order to run, so a user cannot use it on the web without first importing the webdrivers. 

The "track" path in app.py scrapes the HUDS website for daily lunch and dinner nutritional information and returns this nutritional information in the form of a list of dictionaries to a jinja template. The most difficult part of this section was navigating through the html and using the BeautifulSoup library to get the information that I wanted from the HUDS website. Ultimately, I decided to store all of the values in a list of dictionaries, so I can easily iterate over it in the html. I looped over each html block that was a food item, obtained its value for fats and calories etc, stored these values in a dictionary, and then appended this to a global list. I made the list global so I can access it in other functions, for example with inserting the foods into the database. I also loaded this nutritional information into session data. The beautifulsoup library takes a while to open the different links and scan nutritional information, so I stored this information in session data, so when the user reopened the webpage, the app wouldn't have to scrape the web again. 

The function "insert" inserts any selected foods into a user database, while the routes lunch, dinner, and mfp use this function. The "history" route retrieves user food history from a specific date in the database and returns these foods in the form of a list of dictionaries. The MFP route seems similar to the "track" path in the way that it also scrapes website data, but I decided to write two different functions/paths. I needed to query the myfitnesspal website with a webdriver, and I needed to navigate and clean up the HTML, which is a lot different from the HTML from the HUDS website, so I decided to make a different route for better organization.

The javascript was difficult to code for, but it ultimately gave a more pleasant user experience. The show_menu function and show_nutrition function are used to dynamically change the webpage to display nutritional information, depending on the item that the user chooses. What was most difficult about this stage was passing variables between javascript and flask. I was thinking of making an ajax post request to retrieve the nutritional information of one food item, instead of scraping all of the food items, but I frontloaded the load time, so the webpage can easily navigate from food to food without waiting for a response from the server. 

All in all, the most difficult technical decisions were in using a webdriver to search the myfitnesspal website instead of some api. I ultimately wanted to export this website to a web service like gitpages, but I think it is more important to have the functionality of tracking foods outside of HUDS. 
